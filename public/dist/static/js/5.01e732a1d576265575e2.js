webpackJsonp([5],{"+VhZ":function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=a("mtWM"),e=a.n(n),M={name:"kg_zb_tabular",data:function(){return{pdfFile:null,inputFile:"尚未选择文件",fileDeal:"无文件可处理",path:this.globelV.pathID+"/user/project/zbSystem",pdfPath:"",loading:!1,loading1:!1,imgData:[],ocrText:"",ocrTextPath:""}},methods:{updata:function(t){this.pdfFile=document.getElementById("btn_input_file").files[0],this.inputFile=this.pdfFile.name},submit:function(){var t=this,i=new FormData;i.append("file",t.pdfFile);e.a.post(t.path+"/pdfsubmit",i,{headers:{"Content-Type":"multipart/form-data"}}).then(function(i){t.pdfPath=i.data.file[0].path,t.fileDeal=t.pdfPath+"文件待处理！",alert("上传成功！")}).catch(function(t){console.log(t)})},Display:function(){this.$d3.select("#review").remove();var t=window.URL||window.webkitURL;if(this.pdfFile){console.log(this.pdfFile);var i=t.createObjectURL(this.pdfFile);console.log(i),this.$d3.select(".dis_document").append("embed").attr({src:i,id:"review"}).style({width:"100%",height:"100%"})}},tabular:function(t){var i=this;i.loading1=!0,e.a.post(i.path+"/ocrFunc",{path:t}).then(function(t){"成功"===t.data.title&&(i.fileDeal="表格识别成功！",i.ocrText=t.data.textContent,i.ocrTextPath=t.data.textPath,i.loading1=!1)})},pdfDeal:function(){var t=this;t.loading=!0,e.a.post(t.path+"/pdfDeal",{path:"./"+t.pdfPath}).then(function(i){console.log(i.data),"成功"===i.data.title&&(t.fileDeal="文件处理成功！",t.loading=!1,t.imgData=i.data.data)})},pdfextract:function(){var t=this;t.imgData=[],t.loading=!0,e.a.get(t.path+"/pdfExtract").then(function(i){"成功"===i.data.title&&(t.fileDeal="表格识别成功！",t.loading=!1,t.imgData=i.data.data)})},pdfextract1:function(){var t=this;t.imgData=[],t.loading=!0,e.a.get(t.path+"/pdfExtract1").then(function(i){"成功"===i.data.title&&(t.fileDeal="表格识别成功！",t.loading=!1,t.imgData=i.data.data)})},pdfresult:function(){},downloadTxt:function(){window.open(this.ocrTextPath)},uploadTxt:function(){document.getElementById("OCRimg").click()},submitImg:function(){var t=this;t.loading1=!0;var i=document.getElementById("OCRimg").files[0],a=new FormData;a.append("file",i);e.a.post(t.path+"/ocrFunc1",a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(i){"失败"!==i.data&&(t.fileDeal="表格识别成功！",t.ocrText=i.data.textContent,t.ocrTextPath=i.data.textPath,t.loading1=!1)})}},mounted:function(){}},c={render:function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"zb_kg_tabular"},[n("div",{staticClass:"zb_tabular_left"},[n("div",{staticClass:"tabular_title"},[t._v("Tabular Detaction")]),t._v(" "),n("div",{staticClass:"tabular_input"},[n("span",[t._v("选择相应文件")]),t._v(" "),n("input",{staticClass:"btn_input_file",attrs:{type:"file",id:"btn_input_file",accept:".pdf"},on:{change:function(i){return t.updata(i)}}}),t._v(" "),n("p",[t._v(t._s(t.inputFile))]),t._v(" "),n("button",{staticClass:"btn btn-outline-info",on:{click:function(i){return t.submit()}}},[t._v("submit")]),t._v(" "),n("button",{staticClass:"btn btn-outline-info",on:{click:function(i){return t.Display()}}},[t._v("\n        文件预览\n      ")])]),t._v(" "),t._m(0)]),t._v(" "),n("div",{staticClass:"zb_tabular_right"},[n("div",{staticClass:"control_btn"},[n("div",{staticClass:"btn btn-outline-info",on:{click:function(i){return t.pdfDeal()}}},[t._v("PDF文件处理")]),t._v(" "),n("div",{staticClass:"btn btn-outline-info",on:{click:function(i){return t.pdfextract()}}},[t._v("\n        PDF表格识别\n      ")]),t._v(" "),n("div",{staticClass:"btn btn-outline-info",on:{click:function(i){return t.pdfextract1()}}},[t._v("表格提取")])]),t._v(" "),n("div",{staticClass:"control_process"},[t._v(t._s(t.fileDeal))]),t._v(" "),n("div",{staticClass:"control_result"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading"},[n("span"),t._v(" "),n("span"),t._v(" "),n("span"),t._v(" "),n("span"),t._v(" "),n("span"),t._v(" "),n("span"),t._v(" "),n("span"),t._v(" "),n("span")]),t._v(" "),n("div",{staticClass:"table_img"},t._l(t.imgData,function(i){return n("img",{key:i.id,staticClass:"table_imgs",attrs:{src:i.path,alt:"表格图片"},on:{click:function(a){return t.tabular(i.path)}}})}),0),t._v(" "),n("div",{staticClass:"table_img_content"},[n("div",{staticClass:"imgList"},[n("div",{staticClass:"btn btn-outline-info"},[t._v("文字处理")]),t._v(" "),n("img",{attrs:{src:a("MuY3"),alt:"上传",title:"上传需要识别的内容"},on:{click:function(i){return t.uploadTxt()}}}),t._v(" "),n("img",{attrs:{src:a("esI8"),alt:"下载",title:"下载识别的内容"},on:{click:function(i){return t.downloadTxt()}}}),t._v(" "),n("input",{staticStyle:{width:"0",height:"0"},attrs:{type:"file",id:"OCRimg",accept:"image/*",value:""},on:{change:function(i){return t.submitImg()}}})]),t._v(" "),n("div",{staticClass:"textlist"},[n("pre",[t._v("            "+t._s(t.ocrText)+"\n          ")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.loading1,expression:"loading1"}],staticClass:"loading loading1",attrs:{id:"dfd"}},[n("span"),t._v(" "),n("span"),t._v(" "),n("span"),t._v(" "),n("span"),t._v(" "),n("span"),t._v(" "),n("span"),t._v(" "),n("span"),t._v(" "),n("span")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"dis_document"},[i("embed",{staticStyle:{width:"100%",height:"100%"},attrs:{src:"",id:"review"}})])}]};var s=a("VU/8")(M,c,!1,function(t){a("duQ9")},"data-v-72ff9518",null);i.default=s.exports},MuY3:function(t,i){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjE1MTc1NDIzMTAzIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjUgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjYxNDgiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwLjE5NTMxMjUiIGhlaWdodD0iMjAwIj48ZGVmcz48c3R5bGUgdHlwZT0idGV4dC9jc3MiPjwvc3R5bGU+PC9kZWZzPjxwYXRoIGQ9Ik01MTMgMTkzYzEzOC42MDQgMCAyNTIuODE1IDEwNC40NCAyNjguMjMgMjM4LjkxNUM4ODIuNjY1IDQ0MS41ODkgOTYyIDUyNy4wMyA5NjIgNjMxYzAgMTEwLjQ1Ny04OS41NDMgMjAwLTIwMCAyMDBIMjY0Yy0xMTAuNDU3IDAtMjAwLTg5LjU0My0yMDAtMjAwIDAtMTAzLjk3IDc5LjMzNS0xODkuNDExIDE4MC43Ny0xOTkuMDg4QzI2MC4xODYgMjk3LjQ0IDM3NC4zOTcgMTkzIDUxMyAxOTN6IG0wLjY1MyAxOTNoLTAuMTUzYy04LjI0LTAuMDM5LTE2LjQ5MyAzLjA4NS0yMi43OCA5LjM3M0wzNjIuMDI1IDUyNC4wNjZjLTEyLjQ5NyAxMi40OTctMTIuNDk3IDMyLjc1OCAwIDQ1LjI1NXMzMi43NTggMTIuNDk3IDQ1LjI1NSAwbDczLjcxOC03My43MiAwLjAwMSAxOTIuNzQ2YzAgMTcuNjczIDE0LjMyNyAzMiAzMiAzMiAxNy42NzMgMCAzMi0xNC4zMjcgMzItMzJWNDk0LjZsNzQuNzIgNzQuNzIgMC4zNzcgMC4zNzFjMTIuNTI0IDEyLjEyNCAzMi41MDUgMTIgNDQuODc3LTAuMzcxIDEyLjQ5Ny0xMi40OTcgMTIuNDk3LTMyLjc1OCAwLTQ1LjI1NUw1MzYuMjgxIDM5NS4zNzNsLTAuMzg1LTAuMzhjLTYuMTk4LTUuOTk1LTE0LjIyLTguOTkzLTIyLjI0My04Ljk5M3oiIGZpbGw9IiMxMjk2ZGIiIHAtaWQ9IjYxNDkiPjwvcGF0aD48L3N2Zz4="},duQ9:function(t,i){},esI8:function(t,i){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjE1MTc0OTkzMjI5IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjIyODYiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNMzg5Ljg0MjMxMSAzNjkuMjc1MzkxYzAgMC01NC4yMDc1OTktNTIuMTM4NDc0LTEyNy43NjA4MDItOS41NTQ2MS02NS44MTM5MzggNDAuNjQ5ODE1LTU0LjE5MzI3MyAxMTUuMDUwMzE2LTU0LjE5MzI3MyAxMTUuMDUwMzE2UzYxLjY5MDUyNiA1MDMuMTczOTg0IDYxLjY5MDUyNiA2NTIuMjIzNjQ4YzMuMjgxNzQzIDE0OC44NDA5MSAxNTguNzc3MjEzIDE1MC4zMzY5ODQgMTU4Ljc3NzIxMyAxNTAuMzM2OTg0bDMwOS43OTk4MTItMC40Njc2NTFMMzg2LjUzMTkxNSA2NzIuMTY4OTA5bDc5LjY0Njk5MSAwLjg2NDY5NCAwLjAxMzMwMy0xNTcuNDIwMzA5IDEwMi4xMDg1NjItMC42OTQ4MjUgMC43MzI2ODcgMTU3LjY4NDMyMiA3Ny44MTMyMjcgMS4xMDYxOTRMNTMwLjI2NjUyNyA4MDIuNTYwNjMybDI2Mi4xOTc2NTQgMGMwIDAgMTQ0LjcxNTk2MyAwLjE0ODM3OSAxNjUuMDQwODctMTQxLjQ0MjQwNiA5LjY4MDQ3Ny0xNTQuODU1OTA0LTEzOS44NzU3MjQtMTg1LjM3ODA1OC0xMzkuODc1NzI0LTE4NS4zNzgwNThzMTcuMDE3NTgyLTIyOS4yMzM4OTEtMTkzLjAwMDY2Ni0yNTUuMzY3MDg1QzQ0NC42MTE3MDUgMjAxLjk4NzM0MSAzODkuODQyMzExIDM2OS4yNzUzOTEgMzg5Ljg0MjMxMSAzNjkuMjc1MzkxeiIgcC1pZD0iMjI4NyIgZmlsbD0iIzEyOTZkYiI+PC9wYXRoPjwvc3ZnPg=="}});
//# sourceMappingURL=5.01e732a1d576265575e2.js.map